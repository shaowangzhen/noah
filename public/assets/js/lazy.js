(function(window){function UXLazy(){this._init()};var a=true;var scrollEvent=function(event){var that=window.UXLazy;var currentHeight=that.target.scrollY||that.target.scrollTop,screenHeight=window.screen.height,allImages=document.querySelectorAll('img[data-src]:not([data-manual])'),len=allImages.length;for(var i=0;i<len;i++){var image=allImages[i],imageOffsetTop=that._getImageOffsetTop(image);if((currentHeight+screenHeight)>imageOffsetTop){that.load(image)}}};UXLazy.prototype={constructor:UXLazy,target:window,_obj2Str:Object.prototype.toString,_getImageOffsetTop:function(image){var parent=image.offsetParent,offsetTop=image.offsetTop;do{if(!parent)return 999999;offsetTop+=parent.offsetTop}while(parent=parent.offsetParent);return offsetTop},_init:function(){var that=this;if(that.target)that.target.removeEventListener('scroll',scrollEvent,false);if(that.targetId)that.target=document.querySelector(that.targetId);that.target.addEventListener('scroll',scrollEvent,false)},reInit:function(cfg){var that=this;if(!cfg)return;for(var p in cfg){that[p]=cfg[p]}that._init();scrollEvent(null)},load:function(image){var that=this;if(that._obj2Str.call(image)=='[object Array]'){var len=image.length;for(var i=0;i<len;i++){that.load(image[i])}}else{if(!image||!image.hasAttribute('data-src'))return;var src=image.getAttribute('data-src');image.setAttribute('src',src);image.removeAttribute('data-src');image.removeAttribute('data-manual')}}};window.UXLazy=new UXLazy})(window);if(typeof(module)!=='undefined'){module.exports=window.UXLazy}else if(typeof define==='function'&&define.amd){define([],function(){'use strict';return window.UXLazy})}